<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUNDAÇÃO DOM BOSCO</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <div id="printable-content" class="printable-content"></div>
    <!-- In-System Notifications -->
    <div id="notification-container" class="notification-container">
        <!-- Notifications will be added here -->
    </div>

    <!-- Login Screen -->
    <div id="login-screen" class="login-container">
        <div class="login-bubble bubble-1"></div>
        <div class="login-bubble bubble-2"></div>
        <div class="login-bubble bubble-3"></div>
        <div class="login-form-wrapper">
            <div class="login-form">
                <!-- New: Login Badge -->
                <div class="login-badge">
                    <img src="/assets/login_badge.png" alt="System ID">
                </div>
                <h1>FUNDAÇÃO DOM BOSCO</h1>
                <p class="login-subtitle">Acesso Restrito</p>
                <form id="form-login">
                    <div class="form-group">
                        <label for="username">Nome Completo</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Senha</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" class="btn-primary">Entrar</button>
                </form>
                <!-- Updated: Demo Credentials -->
                <div class="demo-credentials" style="display: none;">
                    <p><strong>Credenciais de Demonstração:</strong></p>
                    <ul id="demo-credentials-list">
                        <!-- Credentials will be loaded by JS -->
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" style="display: none;">
        <header>
            <div class="header-top">
                <div class="header-logo">
                    <img src="/a/a8926566-29ac-4da6-8bc6-4be946ef6d26" alt="Fundação Dom Bosco">
                    <h1>FUNDAÇÃO DOM BOSCO</h1>
                </div>

                <!-- NEW: Global Search -->
                <div class="global-search-container">
                    <i class="fa-solid fa-search"></i>
                    <input type="text" id="global-search-input" list="global-search-datalist" placeholder="Buscar paciente, funcionário, item...">
                    <datalist id="global-search-datalist"></datalist>
                    <button id="btn-global-search" class="btn-primary" title="Ir para o Detalhe"><i class="fa-solid fa-arrow-right"></i></button>
                </div>

                <div class="user-info">
                    <div class="notification-bell-wrapper">
                        <button id="notification-bell" class="btn-icon">
                            <i class="fa-solid fa-bell"></i>
                            <span id="notification-count" class="notification-badge" style="display: none;">0</span>
                        </button>
                        <div id="notification-dropdown" class="notification-dropdown" style="display: none;">
                            <h4>Notificações</h4>
                            <div id="notification-list">
                                <!-- Notifications will be populated here -->
                                <p>Nenhuma nova notificação.</p>
                            </div>
                        </div>
                    </div>
                    <span id="current-user-name"></span>
                    <span id="current-user-role"></span>
                    <button id="btn-logout" class="btn-logout">
                        <i class="fa-solid fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
            <div class="nav-wrapper">
                <nav>
                    <button class="tab-button non-finance-access active" data-tab="cadastro">
                        <i class="fa-solid fa-user-plus"></i> 
                        <span>Cadastrar Cliente</span>
                    </button>
                    <button class="tab-button non-finance-access" data-tab="agenda">
                        <i class="fa-solid fa-calendar-days"></i> 
                        <span>Agenda do Dia</span>
                    </button>
                    <button class="tab-button all-admin-view-access" data-tab="historico">
                        <i class="fa-solid fa-clock-rotate-left"></i> 
                        <span>Todos os pacientes</span>
                    </button>
                    <button class="tab-button professional-and-director-access" data-tab="meus-pacientes">
                        <i class="fa-solid fa-briefcase"></i>
                        <span>Meus Pacientes</span>
                    </button>
                    <button class="tab-button director-finance-only" data-tab="financeiro">
                        <i class="fa-solid fa-dollar-sign"></i> 
                        <span>Financeiro</span>
                    </button>
                    <button class="tab-button all-admin-view-access" data-tab="relatorios">
                        <i class="fa-solid fa-chart-pie"></i>
                        <span>Relatórios</span>
                    </button>
                    <button class="tab-button director-only-access" data-tab="estoque">
                        <i class="fa-solid fa-boxes-stacked"></i> 
                        <span>Estoque</span>
                    </button>
                    <button class="tab-button all-admin-view-access" data-tab="funcionarios">
                        <i class="fa-solid fa-users"></i> 
                        <span>Funcionários</span>
                    </button>
                    <button class="tab-button director-and-coordinators-only-documents" data-tab="documentos">
                        <i class="fa-solid fa-chalkboard-user"></i> 
                        <span>Mural do Coordenador</span>
                    </button>
                </nav>
            </div>
        </header>

        <main>
            <div id="tab-cadastro" class="tab-content active">
                <h2>Cadastrar Novo Cliente</h2>
                
                <!-- Age Selection -->
                <div class="age-selection">
                    <label>
                        <input type="radio" name="age-type" value="adult" checked>
                        Maior de Idade (18+)
                    </label>
                    <label>
                        <input type="radio" name="age-type" value="minor">
                        Menor de Idade
                    </label>
                </div>

                <!-- Adult Form -->
                <form id="form-novo-cliente-adulto">
                    <fieldset>
                        <legend>Dados Pessoais</legend>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nome-cliente-adulto">Nome Completo</label>
                                <input type="text" id="nome-cliente-adulto" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="data-nascimento-adulto">Data de Nascimento</label>
                                <input type="date" id="data-nascimento-adulto" required>
                            </div>
                            <div class="form-group">
                                <label for="genero-adulto">Gênero</label>
                                <select id="genero-adulto" required>
                                    <option value="">Selecione</option>
                                    <option value="masculino">Masculino</option>
                                    <option value="feminino">Feminino</option>
                                    <option value="outro">Outro</option>
                                    <option value="nao-informar">Prefiro não informar</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cpf-cliente-adulto">CPF</label>
                                <input type="text" id="cpf-cliente-adulto" placeholder="000.000.000-00" required>
                            </div>
                            <div class="form-group">
                                <label for="rg-adulto">RG</label>
                                <input type="text" id="rg-adulto" placeholder="00.000.000-0">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="naturalidade-adulto">Naturalidade</label>
                                <input type="text" id="naturalidade-adulto" placeholder="Cidade/Estado">
                            </div>
                            <div class="form-group">
                                <label for="estado-civil-adulto">Estado Civil</label>
                                <select id="estado-civil-adulto">
                                    <option value="">Selecione</option>
                                    <option value="solteiro">Solteiro(a)</option>
                                    <option value="casado">Casado(a)</option>
                                    <option value="divorciado">Divorciado(a)</option>
                                    <option value="viuvo">Viúvo(a)</option>
                                    <option value="uniao-estavel">União Estável</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="escolaridade-adulto">Escolaridade</label>
                                <select id="escolaridade-adulto">
                                    <option value="">Selecione</option>
                                    <option value="fundamental-incompleto">Ensino Fundamental Incompleto</option>
                                    <option value="fundamental-completo">Ensino Fundamental Completo</option>
                                    <option value="medio-incompleto">Ensino Médio Incompleto</option>
                                    <option value="medio-completo">Ensino Médio Completo</option>
                                    <option value="superior-incompleto">Ensino Superior Incompleto</option>
                                    <option value="superior-completo">Ensino Superior Completo</option>
                                    <option value="pos-graduacao">Pós-graduação</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="profissao-adulto">Profissão</label>
                                <input type="text" id="profissao-adulto">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email-cliente-adulto">Email</label>
                                <input type="email" id="email-cliente-adulto">
                            </div>
                            <div class="form-group">
                                <label for="telefone-cliente-adulto">Telefone</label>
                                <input type="tel" id="telefone-cliente-adulto" placeholder="(00) 90000-0000">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contato-emergencia-adulto">Contato de Emergência</label>
                                <input type="text" id="contato-emergencia-adulto" placeholder="Nome e telefone">
                            </div>
                            <div class="form-group">
                                <label for="unidade-atendimento-adulto">Unidade de Atendimento</label>
                                <select id="unidade-atendimento-adulto" required>
                                    <option value="">Selecione</option>
                                    <option value="madre">Clínica Social (Madre)</option>
                                    <option value="floresta">Neuro (Floresta)</option>
                                </select>
                            </div>
                        </div>
                    </fieldset>
                    
                    <fieldset>
                        <legend>Endereço</legend>
                        <div class="form-row">
                            <div class="form-group cep-group">
                                <label for="cep-cliente-adulto">CEP</label>
                                <input type="text" id="cep-cliente-adulto" placeholder="00000-000">
                                <small>Digite o CEP para preenchimento automático.</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group form-group-large">
                                <label for="logradouro-cliente-adulto">Logradouro (Rua, Av.)</label>
                                <input type="text" id="logradouro-cliente-adulto">
                            </div>
                            <div class="form-group form-group-small">
                                <label for="numero-cliente-adulto">Número</label>
                                <input type="text" id="numero-cliente-adulto">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="complemento-cliente-adulto">Complemento</label>
                                <input type="text" id="complemento-cliente-adulto">
                            </div>
                            <div class="form-group">
                                <label for="bairro-cliente-adulto">Bairro</label>
                                <input type="text" id="bairro-cliente-adulto">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group form-group-large">
                                <label for="cidade-cliente-adulto">Cidade</label>
                                <input type="text" id="cidade-cliente-adulto">
                            </div>
                            <div class="form-group form-group-small">
                                <label for="estado-cidade-adulto">Estado</label>
                                <input type="text" id="estado-cidade-adulto">
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Outras Informações</legend>
                        <div class="form-group">
                            <label for="observacoes-cliente-adulto">Observações Gerais</label>
                            <textarea id="observacoes-cliente-adulto" rows="4"></textarea>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Informações Clínicas</legend>
                        <div class="form-group">
                            <label for="diagnostico-principal-adulto">Diagnóstico Principal</label>
                            <textarea id="diagnostico-principal-adulto" rows="3" placeholder="Diagnóstico médico ou neurológico"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="historico-medico-adulto">Histórico Médico Relevante</label>
                            <textarea id="historico-medico-adulto" rows="3" placeholder="Doenças pré-existentes, cirurgias, medicamentos"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="queixa-neuropsicologica-adulto">Queixa Principal Neuropsicológica</label>
                            <textarea id="queixa-neuropsicologica-adulto" rows="3" placeholder="Relato do cliente/responsável sobre as dificuldades"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="expectativas-tratamento-adulto">Expectativas do Tratamento</label>
                            <textarea id="expectativas-tratamento-adulto" rows="3" placeholder="O que o cliente/família espera do acompanhamento"></textarea>
                        </div>
                    </fieldset>

                    <button type="submit" class="btn-primary">Salvar Cliente</button>
                </form>

                <!-- Minor Form -->
                <form id="form-novo-cliente-menor" style="display: none;">
                    <fieldset>
                        <legend>Dados Pessoais do Menor</legend>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nome-cliente-menor">Nome Completo</label>
                                <input type="text" id="nome-cliente-menor" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="data-nascimento-menor">Data de Nascimento</label>
                                <input type="date" id="data-nascimento-menor" required>
                            </div>
                            <div class="form-group">
                                <label for="genero-menor">Gênero</label>
                                <select id="genero-menor" required>
                                    <option value="">Selecione</option>
                                    <option value="masculino">Masculino</option>
                                    <option value="feminino">Feminino</option>
                                    <option value="outro">Outro</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="escola-menor">Nome da Escola</label>
                                <input type="text" id="escola-menor">
                            </div>
                            <div class="form-group">
                                <label for="tipo-escola-menor">Tipo de Escola</label>
                                <select id="tipo-escola-menor">
                                    <option value="">Selecione</option>
                                    <option value="publica">Pública</option>
                                    <option value="particular">Particular</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="ano-escolar-menor">Ano Escolar</label>
                                <select id="ano-escolar-menor">
                                    <option value="">Selecione</option>
                                    <option value="maternal">Maternal</option>
                                    <option value="pre1">Pré I</option>
                                    <option value="pre2">Pré II</option>
                                    <option value="1ano">1º Ano</option>
                                    <option value="2ano">2º Ano</option>
                                    <option value="3ano">3º Ano</option>
                                    <option value="4ano">4º Ano</option>
                                    <option value="5ano">5º Ano</option>
                                    <option value="6ano">6º Ano</option>
                                    <option value="7ano">7º Ano</option>
                                    <option value="8ano">8º Ano</option>
                                    <option value="9ano">9º Ano</option>
                                    <option value="1medio">1º Ano Médio</option>
                                    <option value="2medio">2º Ano Médio</option>
                                    <option value="3medio">3º Ano Médio</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="unidade-atendimento-menor">Unidade de Atendimento</label>
                                <select id="unidade-atendimento-menor" required>
                                    <option value="">Selecione</option>
                                    <option value="madre">Clínica Social (Madre)</option>
                                    <option value="floresta">Neuro (Floresta)</option>
                                </select>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Dados dos Pais/Responsáveis</legend>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nome-pai">Nome do Pai</label>
                                <input type="text" id="nome-pai">
                            </div>
                            <div class="form-group">
                                <label for="idade-pai">Idade do Pai</label>
                                <input type="number" id="idade-pai" min="18" max="100">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profissao-pai">Profissão do Pai</label>
                                <input type="text" id="profissao-pai">
                            </div>
                            <div class="form-group">
                                <label for="telefone-pai">Telefone do Pai</label>
                                <input type="tel" id="telefone-pai" placeholder="(00) 90000-0000">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nome-mae">Nome da Mãe</label>
                                <input type="text" id="nome-mae" required>
                            </div>
                            <div class="form-group">
                                <label for="idade-mae">Idade da Mãe</label>
                                <input type="number" id="idade-mae" min="18" max="100">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profissao-mae">Profissão da Mãe</label>
                                <input type="text" id="profissao-mae">
                            </div>
                            <div class="form-group">
                                <label for="telefone-mae">Telefone da Mãe</label>
                                <input type="tel" id="telefone-mae" placeholder="(00) 90000-0000" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="responsavel-financeiro">Responsável Financeiro</label>
                                <select id="responsavel-financeiro">
                                    <option value="">Selecione</option>
                                    <option value="pai">Pai</option>
                                    <option value="mae">Mãe</option>
                                    <option value="ambos">Ambos</option>
                                    <option value="outro">Outro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="outro-responsavel">Outro Responsável (se aplicável)</label>
                                <input type="text" id="outro-responsavel" placeholder="Nome e parentesco">
                            </div>
                        </div>
                    </fieldset>
                    
                    <fieldset>
                        <legend>Endereço</legend>
                        <div class="form-row">
                            <div class="form-group cep-group">
                                <label for="cep-cliente-menor">CEP</label>
                                <input type="text" id="cep-cliente-menor" placeholder="00000-000">
                                <small>Digite o CEP para preenchimento automático.</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group form-group-large">
                                <label for="logradouro-cliente-menor">Logradouro (Rua, Av.)</label>
                                <input type="text" id="logradouro-cliente-menor">
                            </div>
                            <div class="form-group form-group-small">
                                <label for="numero-cliente-menor">Número</label>
                                <input type="text" id="numero-cliente-menor">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="complemento-cliente-menor">Complemento</label>
                                <input type="text" id="complemento-cliente-menor">
                            </div>
                            <div class="form-group">
                                <label for="bairro-cliente-menor">Bairro</label>
                                <input type="text" id="bairro-cliente-menor">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group form-group-large">
                                <label for="cidade-cliente-menor">Cidade</label>
                                <input type="text" id="cidade-cliente-menor">
                            </div>
                            <div class="form-group form-group-small">
                                <label for="estado-cliente-menor">Estado</label>
                                <input type="text" id="estado-cliente-menor">
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Outras Informações</legend>
                        <div class="form-group">
                            <label for="observacoes-cliente-menor">Observações Gerais</label>
                            <textarea id="observacoes-cliente-menor" rows="4"></textarea>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Informações Clínicas</legend>
                        <div class="form-group">
                            <label for="diagnostico-principal-menor">Diagnóstico Principal</label>
                            <textarea id="diagnostico-principal-menor" rows="3" placeholder="Diagnóstico médico ou neurológico"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="historico-medico-menor">Histórico Médico Relevante</label>
                            <textarea id="historico-medico-menor" rows="3" placeholder="Doenças pré-existentes, cirurgias, medicamentos"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="queixa-neuropsicologica-menor">Queixa Principal Neuropsicológica</label>
                            <textarea id="queixa-neuropsicologica-menor" rows="3" placeholder="Relato do cliente/responsável sobre as dificuldades"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="expectativas-tratamento-menor">Expectativas do Tratamento</label>
                            <textarea id="expectativas-tratamento-menor" rows="3" placeholder="O que o cliente/família espera do acompanhamento"></textarea>
                        </div>
                    </fieldset>

                    <button type="submit" class="btn-primary">Salvar Cliente</button>
                </form>
            </div>

            <div id="tab-agenda" class="tab-content">
                <h2>Agenda do Dia - <span id="current-date"></span></h2>
                <div class="agenda-controls">
                    <div class="calendar-container">
                        <input type="month" id="month-selector">
                        <div id="calendar-grid" class="calendar-grid"></div>
                    </div>
                    <div class="agenda-actions">
                        <input type="date" id="date-selector">
                        <div class="agenda-filters">
                            <div id="professional-role-filter-container" class="form-group" style="display: none;">
                                <label for="professional-role-filter-select">Filtrar por Cargo:</label>
                                <select id="professional-role-filter-select">
                                    <!-- Options will be populated by JS -->
                                </select>
                            </div>
                            <div id="professional-filter-container" class="form-group" style="display: none;">
                                <label for="professional-filter-select">Ver agenda de:</label>
                                <select id="professional-filter-select">
                                    <!-- Options will be populated by JS -->
                                </select>
                            </div>
                            <div id="unit-filter-container" class="form-group" style="display: none;">
                                <label for="unit-filter-select">Filtrar por Unidade:</label>
                                <select id="unit-filter-select">
                                    <option value="all">Todas as Unidades</option>
                                    <option value="madre">Clínica Social (Madre)</option>
                                    <option value="floresta">Neuro (Floresta)</option>
                                </select>
                            </div>
                        </div>
                        <button id="btn-novo-agendamento" class="btn-primary">
                            <i class="fa-solid fa-plus"></i> Novo Agendamento
                        </button>
                    </div>
                </div>
                <div id="agenda-list">
                    <!-- Agendamentos serão renderizados aqui -->
                </div>
            </div>

            <div id="tab-historico" class="tab-content">
                <h2>Todos os pacientes</h2>
                <div class="search-container">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="search-cliente" placeholder="Buscar cliente por nome, CPF ou ID...">
                </div>
                <div class="client-filters-container">
                    <div class="client-activity-filter">
                        <label for="client-activity-filter-select">
                            <i class="fa-solid fa-chart-line"></i>
                            Filtrar por atividade:
                        </label>
                        <select id="client-activity-filter-select">
                            <option value="all">Todos</option>
                            <option value="active">Ativos (com atendimentos)</option>
                            <option value="inactive">Inativos (sem atendimentos)</option>
                        </select>
                    </div>
                    <div class="client-intern-filter">
                        <label for="client-intern-filter-select">
                            <i class="fa-solid fa-user-graduate"></i>
                            Filtrar por profissional:
                        </label>
                        <select id="client-intern-filter-select">
                            <option value="all">Todos</option>
                            <option value="linked">Vinculados a profissionais</option>
                            <option value="unlinked">Não vinculados</option>
                        </select>
                    </div>
                    <div class="client-unit-filter">
                        <label for="client-unit-filter-select">
                            <i class="fa-solid fa-hospital"></i>
                            Filtrar por Unidade:
                        </label>
                        <select id="client-unit-filter-select">
                            <option value="all">Todas as Unidades</option>
                            <option value="madre">Clínica Social (Madre)</option>
                            <option value="floresta">Neuro (Floresta)</option>
                        </select>
                    </div>
                </div>
                <div id="client-list-container">
                    <!-- A lista de clientes será renderizada aqui pelo JS -->
                    <p>Nenhum cliente cadastrado ainda.</p>
                </div>
            </div>

            <div id="tab-relatorios" class="tab-content">
                <h2>Painel de Relatórios</h2>
                <div class="client-report-header">
                    <h2>Painel de Relatórios</h2>
                    <div class="client-report-controls">
                        <label for="client-report-period">Período de análise:</label>
                        <select id="client-report-period" class="report-period-selector">
                            <option value="today">Hoje</option>
                            <option value="current-week">Esta semana</option>
                            <option value="current-month">Mês atual</option>
                            <option value="last-3-months">Últimos 3 meses</option>
                            <option value="last-6-months">Últimos 6 meses</option>
                            <option value="current-year">Ano atual</option>
                            <option value="all">Todos os períodos</option>
                        </select>
                        <button id="btn-update-client-report" class="btn-primary">
                            <i class="fa-solid fa-refresh"></i> Atualizar
                        </button>
                    </div>
                </div>
                
                <div class="client-report-dashboard">
                    <!-- Professional Statistics Section will be inserted here by JS -->

                    <div class="client-summary-grid">
                        <div class="summary-card total-clients-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-users"></i>
                            </div>
                            <div class="card-content">
                                <h3>Total de Clientes</h3>
                                <span class="count" id="total-clients-count">0</span>
                                <div class="card-meta">
                                    <span>Cadastrados no sistema</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card adult-clients-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-user-tie"></i>
                            </div>
                            <div class="card-content">
                                <h3>Clientes Adultos</h3>
                                <span class="count" id="adult-clients-count">0</span>
                                <div class="card-meta">
                                    <span>Maiores de 18 anos</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card minor-clients-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-child"></i>
                            </div>
                            <div class="card-content">
                                <h3>Clientes Menores</h3>
                                <span class="count" id="minor-clients-count">0</span>
                                <div class="card-meta">
                                    <span>Menores de 18 anos</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card active-clients-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-user-check"></i>
                            </div>
                            <div class="card-content">
                                <h3>Clientes Ativos</h3>
                                <span class="count" id="clients-with-appointments">0</span>
                                <div class="card-meta">
                                    <span>Com atendimentos registrados</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card inactive-clients-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-user-clock"></i>
                            </div>
                            <div class="card-content">
                                <h3>Clientes Inativos</h3>
                                <span class="count" id="clients-without-recent-appointments">0</span>
                                <div class="card-meta">
                                    <span>Sem atendimentos recentes</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card scheduled-clients-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-calendar-check"></i>
                            </div>
                            <div class="card-content">
                                <h3>Com Agendamentos</h3>
                                <span class="count" id="clients-with-schedules">0</span>
                                <div class="card-meta">
                                    <span>Agendamentos futuros</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="client-details-section">
                        <div class="report-section-header">
                            <h3>Detalhamento por Cliente - <span id="client-report-period-display">Todos os períodos</span></h3>
                            <div class="search-container">
                                <i class="fa-solid fa-magnifying-glass"></i>
                                <input type="text" id="search-client-report" placeholder="Buscar cliente por nome..." list="client-report-datalist">
                                <datalist id="client-report-datalist"></datalist>
                            </div>
                        </div>
                        <div class="client-report-details">
                            <div id="client-report-list">
                                <!-- Detalhes dos clientes serão renderizados aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-meus-pacientes" class="tab-content">
                <h2>Meus Pacientes</h2>
                <div class="search-container">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="search-meus-pacientes" placeholder="Buscar meus pacientes por nome, CPF ou ID...">
                </div>
                <div id="meus-pacientes-list">
                    <!-- Lista de pacientes do estagiário será renderizada aqui -->
                </div>
            </div>

            <div id="tab-financeiro" class="tab-content">
                <div class="financial-header">
                    <h2>Painel Financeiro</h2>
                    <div class="financial-controls">
                        <label for="financial-period-selector">Período:</label>
                        <select id="financial-period-selector" class="report-period-selector">
                            <option value="current-month">Mês atual</option>
                            <option value="last-3-months">Últimos 3 meses</option>
                            <option value="last-6-months">Últimos 6 meses</option>
                            <option value="current-year">Ano atual</option>
                            <option value="all">Todos os períodos</option>
                        </select>
                        <button id="btn-update-financial" class="btn-primary">
                            <i class="fa-solid fa-refresh"></i> Atualizar
                        </button>
                    </div>
                </div>
                
                <div class="financial-dashboard">
                    <div class="financial-summary-grid">
                        <div class="summary-card revenue-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-arrow-trend-up"></i>
                            </div>
                            <div class="card-content">
                                <h3>Receita Total</h3>
                                <span class="amount" id="monthly-revenue">R$ 0,00</span>
                                <div class="card-meta">
                                    <span>Atendimentos: <span id="monthly-appointments">0</span></span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card stock-entries-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-shopping-cart"></i>
                            </div>
                            <div class="card-content">
                                <h3>Despesas com Compras</h3>
                                <span class="amount" id="stock-entries-value">R$ 0,00</span>
                                <div class="card-meta">
                                    <span>Materiais adquiridos</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card stock-exits-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-tools"></i>
                            </div>
                            <div class="card-content">
                                <h3>Custo de Materiais Usados</h3>
                                <span class="amount" id="stock-exits-value">R$ 0,00</span>
                                <div class="card-meta">
                                    <span>Materiais utilizados em atendimentos</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card balance-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-scale-balanced"></i>
                            </div>
                            <div class="card-content">
                                <h3>Resultado Líquido</h3>
                                <span class="amount" id="net-result">R$ 0,00</span>
                                <div class="card-meta">
                                    <span>Receitas - Despesas Totais</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card clients-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-users"></i>
                            </div>
                            <div class="card-content">
                                <h3>Clientes Ativos</h3>
                                <span class="count" id="active-clients">0</span>
                                <div class="card-meta">
                                    <span>Total cadastrados</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-card appointments-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-calendar-check"></i>
                            </div>
                            <div class="card-content">
                                <h3>Agendamentos</h3>
                                <span class="count" id="total-schedules">0</span>
                                <div class="card-meta">
                                    <span>No período</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="financial-notes-section">
                        <h3>Notas Diárias</h3>
                        <div class="daily-notes-controls">
                            <button id="btn-add-daily-note" class="btn-primary">
                                <i class="fa-solid fa-plus"></i> Adicionar Nota do Dia
                            </button>
                            <button id="btn-generate-monthly-report" class="btn-secondary">
                                <i class="fa-solid fa-file-alt"></i> Gerar Relatório Mensal
                            </button>
                            <button id="btn-download-all-notes" class="btn-secondary">
                                <i class="fa-solid fa-download"></i> Baixar Notas
                            </button>
                        </div>
                        <div id="daily-notes-list">
                            <!-- Daily notes will be rendered here -->
                        </div>
                    </div>
                    
                    <div class="financial-chart-section">
                        <h3>Relatório Detalhado - <span id="financial-period-display"></span></h3>
                        <div class="financial-details">
                            <div id="financial-list">
                                <!-- Detalhes financeiros serão renderizados aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-estoque" class="tab-content">
                <h2>Controle de Estoque</h2>
                <div class="stock-dashboard">
                    <div class="stock-summary-grid">
                        <div class="summary-card total-items-card">
                            <div class="card-icon">
                                <i class="fa-solid fa-boxes-stacked"></i>
                            </div>
                            <div class="card-content">
                                <h3>Total de Itens em Estoque</h3>
                                <span class="count" id="total-items">0</span>
                                <div class="card-meta">
</div>
</div>
</div>
</div>
</div>
</div>
</main>
</div>

<!-- Scripts -->
<script src="database.js"></script>
<script src="auth.js"></script>
<script src="utils.js"></script>
<script src="ui.js"></script>
<script src="clients.js"></script>
<script src="schedule.js"></script>
<script src="financial.js"></script>
<script src="stock.js"></script>
<script src="funcionarios.js"></script>
<script src="forms.js"></script>
<script src="main.js"></script>
</body>
</html>
